<app-navbar></app-navbar>
<div class="container-fluid">
  <div class="row">
    <div id="userInfoDiv" class="col my-auto text-left">
      <label for='fullname'>Name:</label>
      <span> {{ u.firstName }} {{ u.lastName }}</span>
      <br/>
      <label for='email'>Email:</label>
      <span> {{ u.email }}</span>
      <br/>
      <button type="button" data-toggle="modal" data-target="#myModal">Update Profile</button>
    </div>

    <div id="favoriteDiv" class="col my-auto text-right">
      <table width="100%">
        <h2>Your Favorites</h2>
        <tr>
          <th>Request ID</th>
          <th>Brewery Name</th>
          <th>Overall Rating</th>
          <th>Remove Favorites</th>
        </tr>
        <tr *ngFor="let fBrewery of u.favorites">
          <td>{{ fBrewery.id }}</td>
          <td>{{ fBrewery.name }}</td>
          <td>{{ fBrewery.rating }}</td>
          <td><button type='button' class="fBrewery" id=fBrewery.id (click)='removeFavorite(fBrewery.id)'>Remove</button></td>
        </tr>
      </table>
    </div>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modalDiv">
    <div class="modal-header">
      <h2 class="modal-title" id="profile-update-modal">Update Profile Information</h2>
        <button type="button" class="close"
                aria-label="Close" (click)=
                "modal.dismiss('Cross click'); isOpen=false;">
            <span aria-hidden="true">
                ×
            </span>
        </button>
    </div>

    <div class="modal-body">
        <form>
            <div class="form-group">
                <label for="updateFName">First Name:</label>
                <input [(ngModel)]='uFirstname' id='uFirstname' type='text' name='firstname'>
                <br/>
                <label for="updateLName">Last Name:</label>
                <input [(ngModel)]='uLastname' id='uLastname' type='text' name='lastname'>
                <br/>
                <label for="updatePWord">Password:</label>
                <input [(ngModel)]='uPassword' id='uPassword' type='password' name='password'>
                <br/>
                <label for="updateEmail">Email:</label>
                <input [(ngModel)]='uEmail' id='uEmail' type='text' name='email'>
            </div>
        </form>
    </div>

    <div class="modal-footer">
        <button type="button"
            class="btn btn-outline-dark"
            (click)="update()">
            Update
        </button>
    </div>
  </div>
</ng-template>

<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h2 class="modal-title" id="profile-update-modal">Update Profile Information</h2>
          <button type="button" class="close" data-dismiss='modal'>
                  ×
          </button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <form>
            <div class="form-group">
                <label for="updateFName">First Name:</label>
                <input [(ngModel)]='uFirstname' id='uFirstname' type='text' name='firstname'>
                <br/>
                <label for="updateLName">Last Name:</label>
                <input [(ngModel)]='uLastname' id='uLastname' type='text' name='lastname'>
                <br/>
                <label for="updatePWord">Password:</label>
                <input [(ngModel)]='uPassword' id='uPassword' type='password' name='password'>
                <br/>
                <label for="updateEmail">Email:</label>
                <input [(ngModel)]='uEmail' id='uEmail' type='text' name='email'>
            </div>
        </form>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button"
            class="btn btn-outline-dark"
            (click)="update()">
            Update
        </button>
    </div>

    </div>
  </div>
</div>
